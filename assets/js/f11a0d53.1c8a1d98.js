"use strict";(self.webpackChunkncm_301_2=self.webpackChunkncm_301_2||[]).push([[3550],{3686:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var r=s(4848),i=s(8453);const t={title:"Calm: Virtual Private Cloud"},l="Pre-requsities",a={id:"calm_vpc/calm_vpc",title:"Calm: Virtual Private Cloud",description:"1.  In Prism Central, Micro-service infrastructure is enabled",source:"@site/docs/calm_vpc/calm_vpc.mdx",sourceDirName:"calm_vpc",slug:"/calm_vpc/",permalink:"/ncm301-2/docs/calm_vpc/",draft:!1,unlisted:!1,editUrl:"https://github.com/mat0606/ncm301-2/edit/main/docs/calm_vpc/calm_vpc.mdx",tags:[],version:"current",frontMatter:{title:"Calm: Virtual Private Cloud"}},c={},d=[{value:"Create a blueprint to create Virtual Private Cloud (VPC)",id:"create-a-blueprint-to-create-virtual-private-cloud-vpc",level:2},{value:"Create a blueprint to create subnet into VPC",id:"create-a-blueprint-to-create-subnet-into-vpc",level:2},{value:"Create a blueprint to create Tunnel VM into VPC",id:"create-a-blueprint-to-create-tunnel-vm-into-vpc",level:2}];function h(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"pre-requsities",children:"Pre-requsities"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"In Prism Central, Micro-service infrastructure is enabled"}),"\n",(0,r.jsx)(e.li,{children:"In Prism Central, Advanced Networking is enabled"}),"\n",(0,r.jsx)(e.li,{children:"Prism Central version is at least 2022.1.02"}),"\n",(0,r.jsx)(e.li,{children:"Calm version is at least 3.5.0"}),"\n"]}),"\n",(0,r.jsx)(e.h1,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(e.p,{children:"Virtual Private Cloud (VPC) allowed the service provider to onboard and isolate the underlying infrastructure and network for each tenant."}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(7673).A+"",width:"1909",height:"859"})}),"\n",(0,r.jsx)(e.h2,{id:"create-a-blueprint-to-create-virtual-private-cloud-vpc",children:"Create a blueprint to create Virtual Private Cloud (VPC)"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"Create Blueprint"}),". Create a ",(0,r.jsx)(e.strong,{children:"Multi VM/Pod"})," blueprint."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(3552).A+"",width:"529",height:"206"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Key in the blueprint name. Eg ",(0,r.jsx)(e.strong,{children:"vpc_initials"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Select the ",(0,r.jsx)(e.strong,{children:"Credentials"})," tab. Create a new credential for ",(0,r.jsx)(e.strong,{children:"PC Credential"})," and enter desired User/Password"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(5730).A+"",width:"796",height:"546"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Create the following variables on the right side of the screen."}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"vpc_name"})," Default value: empty. ",(0,r.jsx)(e.strong,{children:"Mark this variable mandatory"})]}),"\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"external_routable_ip"})]}),"\n",(0,r.jsxs)(e.li,{children:["Default value:  ",(0,r.jsx)(e.strong,{children:"10.x.x.x/28. Get this IP address from the instructor"}),". ",(0,r.jsx)(e.strong,{children:"Mark this variable mandatory"})]}),"\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"dns"})," Default value: ",(0,r.jsx)(e.strong,{children:"8.8.8.8"}),". ",(0,r.jsx)(e.strong,{children:"Mark this variable mandatory"})]}),"\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"PC_IP"})," Default value: ",(0,r.jsx)(e.strong,{children:"Follow the cluster PC given by the instructor. Eg 10.x.x.x"})]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(347).A+"",width:"476",height:"498"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Create the following dynamic variable: ",(0,r.jsx)(e.strong,{children:"external_subnet"})," on the  right side of the screen. Select Input Type: ",(0,r.jsx)(e.strong,{children:"escript"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(32).A+"",width:"405",height:"545"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Replace the password with the Prism Central password."})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Paste the following script in the script window"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "admin"\npassword = "x.x.x.x"\nip = "@@{PC_IP}@@"\npayload = {\n"kind": "subnet"\n}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/subnets"\nurl = base_url + "/list"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nsubnet_list = []\nsubnet_list_json = r.json()\nfor subnet in subnet_list_json[\'entities\']:\n  subnet_list.append("{}".format(subnet[\'spec\'][\'name\']))\n  print \',\'.join(subnet_list)\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'\n1. On the left hand side of the screen, Add a service.\n\n ![](images/vpc_add_service.png)\n\n1. On the right hand side of the screen, select **Existing Machine** for account name\n\n ![](images/vpc_service_name.png)\n\n1. On the right hand side of the screen\n\n ![](images/vpc-service-detail.png)\n\n1. On the left hand side of the screen, create a service action: **Create VPC**\n\n ![](images/Create-Service-Action.png)\n\n1. On the service, click **Create Task**.\n\n - Task Name: **GetNetworkUUID**\n - Type: **Set Variable**\n - Script Type: **EScript**\n - Output: **pe_network_UUID**\n\n ```python\n user = "@@{PC Credential.username}@@"\n password = "@@{PC Credential.secret}@@"\n ip = "@@{PC_IP}@@"\n\n payload = {\n\n }\n\n base_url = "https://" + ip + ":9440/api/nutanix/v3/subnets"\n url = base_url + "/list"\n headers = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\n url_method = "POST"\n r = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n subnet_list = []\n subnet_list_json = r.json()\n for subnet in subnet_list_json[\'entities\']:\n  if subnet[\'spec\'][\'name\'] == "@@{external_subnet}@@":\n    print "pe_network_UUID={}".format(subnet[\'metadata\'][\'uuid\'])\n    exit(0)\n exit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Split external routable ip"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"ext_routable_ip"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"ext_routable_ip_prefix"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'ext_routable_ip = "@@{external_routable_ip}@@"\n\next_routable_ip_array = [] \next_routable_ip_array = ext_routable_ip.split("/")\nprint "ext_routable_ip={0}".format(ext_routable_ip_array[0])\nprint "ext_routable_ip_prefix={0}".format(ext_routable_ip_array[1])\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Invoke API to create VPC"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Execute"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\npayload = {\n  "spec": {\n    "name": "@@{vpc_name}@@",\n    "resources": {\n      "common_domain_name_server_ip_list": [\n      { \n        "ip": "@@{dns}@@"\n      }\n      ],\n      "external_subnet_list": [\n      {\n        "external_subnet_reference": {\n          "kind": "subnet",\n          "uuid": "@@{pe_network_UUID}@@"\n        }\n      }\n      ],\n      "externally_routable_prefix_list": [\n      {\n        "ip": "@@{ext_routable_ip}@@",\n        "prefix_length": @@{ext_routable_ip_prefix}@@\n      }\n      ]\n    }\n  },\n#  "description": "on prem VPC",\n  "api_version": "3.0",\n  "metadata": {\n    "kind": "vpc",\n    "categories": {\n      "VirtualNetworkType": "Tenant"\n    }\n  }\n}\nurl = "https://" + ip + ":9440/api/nutanix/v3/vpcs"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nprint "Status code: {}".format(r.status_code)\nprint "Output: {}".format(r.text)\nif r.ok:\n  print "VPC {0} is created successfully".format("@@{vpc_name}@@")\nelse:\n  exit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the left side of the screen, click on ",(0,r.jsx)(e.strong,{children:"Package: Install"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(3514).A+"",width:"1026",height:"272"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"+ Action"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(3235).A+"",width:"489",height:"423"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Let's create the service action to delete the VPC. On the left hand side of the screen, create a service action: ",(0,r.jsx)(e.strong,{children:"Delete VPC"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(4981).A+"",width:"551",height:"293"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Get VPC UUID"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"vpc_uuid"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\n\npayload = {}\n\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/vpcs"\nurl = base_url + "/list"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n#print "Status code: {}".format(r.status_code)\n#print "Output: {}".format(r.text)\nvpc_list = []\nvpc_list_json = r.json()\nfor vpc in vpc_list_json[\'entities\']:\n  if vpc[\'spec\'][\'name\'] == "@@{vpc_name}@@":\n    print vpc[\'spec\'][\'name\']\n    print "vpc_uuid={0}".format(vpc[\'metadata\'][\'uuid\'])\n    exit(0)\nexit(1)  \n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Invoke API to delete VPC"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Execute"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\npayload = {\n}\nurl = "https://" + ip + ":9440/api/nutanix/v3/vpcs/@@{vpc_uuid}@@"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "DELETE"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nprint "Status code: {}".format(r.status_code)\n#print "Output: {}".format(r.text)\nif r.ok:\n  print "VPC {0} is created successfully".format("@@{vpc_name}@@")\nelse:\n  exit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Associate the ",(0,r.jsx)(e.strong,{children:"Delete VPC"})," action with the ",(0,r.jsx)(e.strong,{children:"Package uninstall"})," action. Click on ",(0,r.jsx)(e.strong,{children:"+ Action"}),". Choose the ",(0,r.jsx)(e.strong,{children:"Delete VPC"})," action."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(349).A+"",width:"1002",height:"306"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"Launch"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(9181).A+"",width:"1083",height:"111"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Enter the name of Application ",(0,r.jsx)(e.strong,{children:"VPC-INITIALS"})," and fill out the form with the requested information. Press ",(0,r.jsx)(e.strong,{children:"Deploy"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(1910).A+"",width:"624",height:"420"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Once the application is ",(0,r.jsx)(e.strong,{children:"running"}),". Let's look at the audit log."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(4346).A+"",width:"475",height:"491"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["In Prism Central ",(0,r.jsx)(e.strong,{children:"Network and Security"})," ",(0,r.jsx)(e.strong,{children:"Virtual Private Cloud"}),", let's look at the newly created VPC"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(734).A+"",width:"624",height:"162"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Drill into the VPC to look at its details"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(9339).A+"",width:"624",height:"190"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Add in a static route to allow the Calm Policy VM to communicate with the Calm Tunnel VM. Click on ",(0,r.jsx)(e.strong,{children:"Routes"}),". Click on ",(0,r.jsx)(e.strong,{children:"Manage Static Routes"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(3879).A+"",width:"790",height:"145"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"Add Static Route"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(4338).A+"",width:"786",height:"335"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Fill in the following:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Destination Prefix: ",(0,r.jsx)(e.strong,{children:"0.0.0.0/0"})]}),"\n",(0,r.jsxs)(e.li,{children:["Next Hop: ",(0,r.jsx)(e.strong,{children:"Secondary"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"Save"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(5220).A+"",width:"785",height:"750"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"create-a-blueprint-to-create-subnet-into-vpc",children:"Create a blueprint to create subnet into VPC"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"Create Blueprint"}),". Create a ",(0,r.jsx)(e.strong,{children:"Multi VM/Pod"})," blueprint."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(3552).A+"",width:"529",height:"206"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Key in the blueprint name. Eg ",(0,r.jsx)(e.strong,{children:"subnet_vpc_initial"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Select the ",(0,r.jsx)(e.strong,{children:"Credentials"})," tab. Create a new credential for ",(0,r.jsx)(e.strong,{children:"PC Credential"})," and enter desired User/Pass**"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(5730).A+"",width:"796",height:"546"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Create the following variables on the right side of the screen."}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"subnet_name"})," Default value: empty. ",(0,r.jsx)(e.strong,{children:"Mark this variable mandatory"})]}),"\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"Gateway_IP"})," Default value: ",(0,r.jsx)(e.strong,{children:"192.168.1.1"}),". ",(0,r.jsx)(e.strong,{children:"Mark this variable mandatory"})]}),"\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"Network_IP_Prefix"})," Default value: ",(0,r.jsx)(e.strong,{children:"192.168.1.0/24"}),". ",(0,r.jsx)(e.strong,{children:"Mark this variable mandatory"})]}),"\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"Start_IP"})," Default value: ",(0,r.jsx)(e.strong,{children:"192.168.1.10"}),". ",(0,r.jsx)(e.strong,{children:"Mark this variable mandatory"})]}),"\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"End_IP"})," Default value: ",(0,r.jsx)(e.strong,{children:"192.168.1.30"}),". ",(0,r.jsx)(e.strong,{children:"Mark this variable mandatory"})]}),"\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"PC_IP"})," Default value: ",(0,r.jsx)(e.strong,{children:"Follow the cluster PC given by the instructor. Eg 10.x.x.x"})]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(7473).A+"",width:"472",height:"671"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Create the following dynamic variable: ",(0,r.jsx)(e.strong,{children:"vpc_name"})," on the right side of the screen. Select Input Type: ",(0,r.jsx)(e.strong,{children:"escript"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(6866).A+"",width:"406",height:"635"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Replace the password with the Prism Central password."})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "admin"\npassword = "xxxxxxxx"\nip = "@@{PC_IP}@@"\npayload = {}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/vpcs"\nurl = base_url + "/list"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n#print "Status code: {}".format(r.status_code)\n#print "Output: {}".format(r.text)\nvpc_list = []\nvpc_list_json = r.json()\nfor vpc in vpc_list_json[\'entities\']:\n  vpc_list.append("{}".format(vpc[\'spec\'][\'name\']))\nprint \',\'.join(vpc_list)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"On the left hand side of the screen, create a service."}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(6801).A+"",width:"459",height:"120"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the right hand side of the screen, select ",(0,r.jsx)(e.strong,{children:"Existing Machine"})," for account name"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(4331).A+"",width:"541",height:"593"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"On the right hand side of the screen, (ENTER THE IP ADDRESS)"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(7801).A+"",width:"536",height:"595"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the left hand side of the screen, create a service action: ",(0,r.jsx)(e.strong,{children:"Create Subnet in VPC"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(4981).A+"",width:"551",height:"293"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Get VPC UUID"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"vpc_uuid"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\npayload = {\n  "filter": "name==@@{vpc_name}@@"\n}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/vpcs"\nurl = base_url + "/list"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n#print "Status code: {}".format(r.status_code)\n#print "Output: {}".format(r.text)\nvpc_list = []\nvpc_list_json = r.json()\nfor vpc in vpc_list_json[\'entities\']:\n  print "vpc_uuid={0}".format(vpc[\'metadata\'][\'uuid\'])\n  exit(0)\nprint "Error retrieving the VPC UUID for {0}".format("@@{vpc_name}@@")\nexit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Split Network IP Prefix"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"network_ip"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"network_ip_prefix"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'network_ip_prefix = "@@{Network_IP_Prefix}@@"\n\nnetwork_ip_prefix_array = [] \nnetwork_ip_prefix_array = network_ip_prefix.split("/")\nprint "network_ip={0}".format(network_ip_prefix_array[0])\nprint "network_ip_prefix={0}".format(network_ip_prefix_array[1])\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Create Subnet in VPC"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Execute"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\npayload = {\n  "spec": {\n    "name": "@@{subnet_name}@@",\n    "resources": {\n      "subnet_type": "OVERLAY",\n      "vpc_reference": {\n        "kind": "vpc",\n        "uuid": "@@{vpc_uuid}@@"\n      },\n      "external_connectivity_state": "ENABLED",\n      "ip_config": {\n        "pool_list": [\n        {\n          "range": "@@{Start_IP}@@ @@{End_IP}@@"\n        }\n        ],\n        "subnet_ip": "@@{network_ip}@@",\n        "prefix_length": @@{network_ip_prefix}@@,\n        "default_gateway_ip": "@@{Gateway_IP}@@"\n      }\n    }\n  },\n  "metadata": {\n    "kind": "subnet",\n  }\n}\nurl = "https://" + ip + ":9440/api/nutanix/v3/subnets"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nprint "Status code: {}".format(r.status_code)\nprint "Output: {}".format(r.text)\nif r.ok:\n  print "Subnet {1} in VPC {0} is created successfully".format("@@{vpc_name}@@","@@{subnet_Name}@@")\nelse:\n  exit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["On the left side of the screen, click on ",(0,r.jsx)(e.strong,{children:"Package: Install"})]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(3514).A+"",width:"1026",height:"272"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"+ Action"}),". Associate it with ",(0,r.jsx)(e.strong,{children:"Create Subnet in VPC"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(4981).A+"",width:"551",height:"293"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Get Subnet UUID"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"subnet_uuid"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\npayload = {\n  "filter": "name==@@{subnet_name}@@"\n}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/subnets"\nurl = base_url + "/list"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nsubnet_list = []\nsubnet_list_json = r.json()\nfor subnet in subnet_list_json[\'entities\']:\n  print "subnet_uuid={0}".format(subnet[\'metadata\'][\'uuid\'])\n  exit(0)\nprint "Error retrieving the Subnet UUID for {0}".format("@@{subnet_name}@@")\nexit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Delete Subnet"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Execute"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\n\npayload = {\n}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/subnets"\nurl = base_url + "/@@{subnet_uuid}@@"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "DELETE"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nprint "Status code: {}".format(r.status_code)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Associate the ",(0,r.jsx)(e.strong,{children:"Delete Subnet in VPC"})," action with the ",(0,r.jsx)(e.strong,{children:"Package uninstall"})," action. Click on ",(0,r.jsx)(e.strong,{children:"+ Action"}),". Choose the ",(0,r.jsx)(e.strong,{children:"Delete Subnet in VPC"})," action."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"Launch"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(9181).A+"",width:"1083",height:"111"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:['Enter the name of Application "SubnetVPC-<INITIALS> and fill out the form with the requested information. Press ',(0,r.jsx)(e.strong,{children:"Deploy"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(9237).A+"",width:"624",height:"447"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:'Once the application is "running". Let\'s look at the audit log.'}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(5212).A+"",width:"489",height:"415"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["In Prism Central ",(0,r.jsx)(e.strong,{children:"Network and Security"})," ",(0,r.jsx)(e.strong,{children:"Virtual Private Cloud"}),", let's look at the newly created VPC"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(7097).A+"",width:"624",height:"133"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Drill into the subnet to look at its details"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(2431).A+"",width:"624",height:"174"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"create-a-blueprint-to-create-tunnel-vm-into-vpc",children:"Create a blueprint to create Tunnel VM into VPC"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"Create Blueprint"}),". Create a ",(0,r.jsx)(e.strong,{children:"Multi VM/Pod"})," blueprint."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(3552).A+"",width:"529",height:"206"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Key in the blueprint name. Eg ",(0,r.jsx)(e.strong,{children:"tunnel_vm_<initial>"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Select the ",(0,r.jsx)(e.strong,{children:"Credentials"})," tab. Create a new credential for ",(0,r.jsx)(e.strong,{children:"PC Credential"})," and enter desired User/Pass"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(5730).A+"",width:"796",height:"546"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Create a new credential for ",(0,r.jsx)(e.strong,{children:"PE Credential"})," and enter desired User/Pass"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Create the following variables on the right side of the screen."}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"PC_IP"})," Default value: ",(0,r.jsx)(e.strong,{children:"Follow the cluster PC  given by the instructor. Eg 10.x.x.x"})]}),"\n",(0,r.jsxs)(e.li,{children:["Variable Name: ",(0,r.jsx)(e.strong,{children:"PE_IP"})," Default value: ",(0,r.jsx)(e.strong,{children:"Follow the cluster PE given by the instructor. Eg 10.x.x.x"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(5463).A+"",width:"473",height:"400"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Create the following dynamic variable: ",(0,r.jsx)(e.strong,{children:"vpc_name"})," on the right side of the screen. Select Input Type: ",(0,r.jsx)(e.strong,{children:"escript"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(6866).A+"",width:"406",height:"635"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Replace the password with the Prism Central password."})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "admin"\npassword = "xxxxxxxx"\nip = "@@{PC_IP}@@"\npayload = {}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/vpcs"\nurl = base_url + "/list"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n#print "Status code: {}".format(r.status_code)\n#print "Output: {}".format(r.text)\nvpc_list = []\nvpc_list_json = r.json()\nfor vpc in vpc_list_json[\'entities\']:\n  vpc_list.append("{}".format(vpc[\'spec\'][\'name\']))\nprint \',\'.join(vpc_list)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Create the following dynamic variable: ",(0,r.jsx)(e.strong,{children:"subnet_name"})," on the right side of the screen. Select Input Type: ",(0,r.jsx)(e.strong,{children:"escript"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(2651).A+"",width:"405",height:"531"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Replace the password with the Prism Central password."})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "admin"\npassword = "xxxxxxx"\nip = "@@{PC_IP}@@"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\ndef get_vpc_uuid(vpc_name):\n    vpc_url = "https://"+ip+":9440/api/nutanix/v3/vpcs/list"\n    params={"kind": "vpc"}\n    r = urlreq(vpc_url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(params), verify=False, headers=headers)\n  #  print "status code: {}".format(r.status_code)\n  # print "response: {}".format(r.text)\n    vpc_list_json = r.json()\n    for vpc in vpc_list_json["entities"]:\n      if vpc["spec"]["name"]==vpc_name:\n        return vpc["metadata"]["uuid"]\n    exit(1)\nvpc_uuid=get_vpc_uuid("@@{vpc_name}@@")\npayload = {\n  "kind": "subnet"\n\n}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/subnets"\nurl = base_url + "/list"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n#print "Status code: {}".format(r.status_code)\n#print "Output: {}".format(r.text)\nsubnet_list = []\nsubnet_list_json = r.json()\nfor subnet in subnet_list_json[\'entities\']:\n# print "cluster[\'spec\'][\'name\']"\n  if subnet[\'spec\'][\'resources\'][\'subnet_type\'] == \'OVERLAY\' and subnet[\'spec\'][\'resources\'][\'vpc_reference\'][\'uuid\'] == vpc_uuid:\n    subnet_list.append("{}".format(subnet[\'spec\'][\'name\']))\n\nprint \',\'.join(subnet_list)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"On the left hand side of the screen, create a service."}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(6801).A+"",width:"459",height:"120"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the right hand side of the screen, select ",(0,r.jsx)(e.strong,{children:"Existing Machine"})," for account name"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(4331).A+"",width:"541",height:"593"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"On the right hand side of the screen"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(7801).A+"",width:"536",height:"595"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the left hand side of the screen, create a service action:\n",(0,r.jsx)(e.strong,{children:"Create Tunnel VM"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(4981).A+"",width:"551",height:"293"})}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Get VPC UUID"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"vpc_uuid"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\n\ndef get_vpc_uuid(vpc_name):\n    vpc_url = "https://"+ip+":9440/api/nutanix/v3/vpcs/list"\n    params={"kind": "vpc"}\n    r = urlreq(vpc_url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(params), verify=False, headers=headers)\n  #  print "status code: {}".format(r.status_code)\n   # print "response: {}".format(r.text)\n    vpc_list_json = r.json()\n    for vpc in vpc_list_json["entities"]:\n      if vpc["spec"]["name"]==vpc_name:\n        return vpc["metadata"]["uuid"]\n    exit(1)\nvpc_uuid=get_vpc_uuid("@@{vpc_name}@@")\nprint "vpc_uuid={0}".format(vpc_uuid)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"GetAccountName"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"account_name"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'print "account_name=NTNX_LOCAL_AZ"\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"GetAccountUUID"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"account_uuid"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\npayload = {\n  "length": 250\n}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/accounts"\nurl = base_url + "/list"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\naccount_list = []\naccount_list_json = r.json()\nfor account in account_list_json[\'entities\']:\n  if account[\'status\'][\'name\'] == "@@{account_name}@@": #sometimes this value will be \'{}\'\n    print "account_UUID={}".format(account[\'metadata\'][\'uuid\'])\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"GetSubnetUUID"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"subnet_uuid"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\npayload = {\n}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/subnets"\nurl = base_url + "/list"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nsubnet_list = []\nsubnet_list_json = r.json()\nfor subnet in subnet_list_json[\'entities\']:\n  if subnet[\'spec\'][\'name\'] == "@@{subnet_name}@@":\n    print "pe_network_UUID={}".format(subnet[\'metadata\'][\'uuid\'])\n    exit(0)\nexit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"GetClusterUUID"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"pe_cluster_uuid"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PE Credential.username}@@" \npassword = "@@{PE Credential.secret}@@"\nip = "@@{PE_IP}@@"\ndef process_request(url, method, user, password, headers, payload=None):\n  r = urlreq(url, verb=method, auth="BASIC", user=user, passwd=password, params=payload, verify=False, headers=headers)\n  return r\npayload = {}\nbase_url = "https://" + ip + ":9440/PrismGateway/services/rest/v2.0/cluster"\nurl = base_url + "/"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "GET"\nr = process_request(url, url_method, user, password, headers, json.dumps(payload))\ncluster_list = []\ncluster_list_json = r.json()\nprint "pe_cluster_uuid={}".format(cluster_list_json[\'uuid\'])\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"Provision Tunnel VM"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Execute"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\nnetwork_group_tunnel_uuid = "{}".format(str(uuid.uuid4()))\ntunnel_uuid = "{}".format(str(uuid.uuid4()))\npayload = {\n  "api_version": "3.1.0",\n  "metadata": {\n    "kind": "network_group_tunnel",\n    "uuid": network_group_tunnel_uuid\n  },\n  "spec": {\n    "resources": {\n      "platform_vpc_uuid_list": [\n        "@@{vpc_uuid}@@"\n      ],\n      "tunnel_reference": {\n        "kind": "tunnel",\n        "uuid": tunnel_uuid,\n        "name": "NTNX_LOCAL_AZ_VPC_@@{vpc_name}@@_Tunnel"\n      },\n      "account_reference": {\n        "kind": "account",\n        "name": "@@{account_name}@@",\n        "uuid": "@@{account_UUID}@@"\n      },\n      "tunnel_vm_spec": {\n        "vm_name": "@@{vpc_name}@@_@@{subnet_name}@@_TunnelVM",\n        "subnet_uuid": "@@{pe_network_UUID}@@",\n        "cluster_uuid": "@@{pe_cluster_uuid}@@"\n      }\n    },\n    "name": "VPC_@@{vpc_name}@@_NTNX_LOCAL_AZ"\n  }\n}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/network_groups/tunnels"\nurl = base_url\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nprint "Status code: {}".format(r.status_code)\nprint "Output: {}".format(r.text)\nif r.ok:\n  print "Successful invocation of tunnel VM"\nelse:\n  exit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the left side of the screen, click on ",(0,r.jsx)(e.strong,{children:"Package: Install"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(3514).A+"",width:"1026",height:"272"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"+ Action"}),". Associate it with ",(0,r.jsx)(e.strong,{children:"Create Tunnel VM"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Let's create the service action to delete the tunnel vm. On the left hand side of the screen, create a service action: ",(0,r.jsx)(e.strong,{children:"Delete Tunnel VM"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(4981).A+"",width:"551",height:"293"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"GetTunnelUUID"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Set Variable"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n",(0,r.jsxs)(e.li,{children:["Output: ",(0,r.jsx)(e.strong,{children:"tunnel_uuid"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "POST"\npayload = {\n  "kind": "tunnel",\n  "filter": "name==NTNX_LOCAL_AZ_VPC_@@{vpc_name}@@_Tunnel"\n}\nbase_url = "https://" + ip + ":9440/api/nutanix/v3/tunnels/list"\nurl = base_url\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nprint "Status code: {}".format(r.status_code)\nprint "Output: {}".format(r.text)\nif r.ok:\n  print "Successful retrieval of tunnel VM"\n  tunnel_json = r.json()\n  for tunnel in tunnel_json[\'entities\']:\n    if tunnel[\'metadata\'][\'name\'] == \'NTNX_LOCAL_AZ_VPC_@@{vpc_name}@@_Tunnel\':\n      print "tunnel_uuid={}".format(tunnel[\'metadata\'][\'uuid\'])\n      exit(0)\nelse:\n  exit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["On the service, click ",(0,r.jsx)(e.strong,{children:"Create Task"}),"."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Task Name: ",(0,r.jsx)(e.strong,{children:"DeleteTunnel"})]}),"\n",(0,r.jsxs)(e.li,{children:["Type: ",(0,r.jsx)(e.strong,{children:"Execute"})]}),"\n",(0,r.jsxs)(e.li,{children:["Script Type: ",(0,r.jsx)(e.strong,{children:"EScript"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'user = "@@{PC Credential.username}@@"\npassword = "@@{PC Credential.secret}@@"\nip = "@@{PC_IP}@@"\nheaders = {\'Accept\': \'application/json\', \'Content-Type\': \'application/json\'}\nurl_method = "DELETE"\npayload = {\n} \nbase_url = "https://" + ip + ":9440/api/nutanix/v3/tunnels/@@{tunnel_uuid}@@"\nurl = base_url\nr = urlreq(url, url_method, auth="BASIC", user=user, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\nprint "Status code: {}".format(r.status_code)\nprint "Output: {}".format(r.text)\nif r.ok:\n  print "Successful deletion of tunnel VM"\nelse:\n  exit(1)\n'})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Associate the ",(0,r.jsx)(e.strong,{children:"Delete Tunnel VM"})," action with the ",(0,r.jsx)(e.strong,{children:"Package uninstall"})," action. Click on ",(0,r.jsx)(e.strong,{children:"+ Action"}),". Choose the ",(0,r.jsx)(e.strong,{children:"Delete Tunnel VM"})," action"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Click on ",(0,r.jsx)(e.strong,{children:"Launch"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(9181).A+"",width:"1083",height:"111"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Enter the name of Application ",(0,r.jsx)(e.strong,{children:"TunnelVM-INITIALS"})," and fill out the form with the requested information. Press ",(0,r.jsx)(e.strong,{children:"Deploy"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(1638).A+"",width:"903",height:"436"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Once the application is ",(0,r.jsx)(e.strong,{children:"running"}),". Let's look at the audit log."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(9122).A+"",width:"719",height:"582"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["In Calm ",(0,r.jsx)(e.strong,{children:"Accounts"}),", let's look at the tunnel VM during provisioning"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(6031).A+"",width:"903",height:"311"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Wait for a few minutes. The tunnel VM will change the state to  ",(0,r.jsx)(e.strong,{children:"Connected"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(5130).A+"",width:"968",height:"169"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["In Prism Central, ",(0,r.jsx)(e.strong,{children:"Compute & Storage"}),". Click on ",(0,r.jsx)(e.strong,{children:"VMs"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:s(2504).A+"",width:"903",height:"569"})}),"\n"]}),"\n"]})]})}function o(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},3235:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/AddTaskToAction-3799cb33ab8e9a58f8f05f6d42d261a9.png"},4981:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/Create-Service-Action-9f5f90c943e43a62344c45d4c16b5b6e.png"},349:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/Delete-VPC-fab263165be09af190654f1d7e47058d.png"},1910:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/LaunchVPC-4cd60808217f32d3bbccfe4af18e5c40.png"},9237:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/Subnet-Launch-304ca766409e0597b176032afdfcac2c.png"},4338:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/add-static-route-2d81734f5fef763c9ed666454963f871.png"},5212:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/audit-log-subnet-c749d7391d2643922d5db0ada0db47e1.png"},3552:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/create-blueprint-b3ac2b8be639e2fd04d7a9b22441a163.png"},32:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/dynamic-escript-a0fbb76210b5ef394787704765112c64.png"},2651:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/dynamic-tunnel-escript-0ae7d758bbed5bfb428cfb99c8b1837c.png"},6866:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/dynamic-vpc-escript-fdec7b4ff1e6c4232341929d42f62976.png"},9181:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/launch-blueprint-94b166b073dd764b8849c4ae0ce2022a.png"},3514:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/package-install-8c397a6148ef175dc4e690a60aac2508.png"},5730:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/pc_cred-1fd5d1804d4cc22b0215a0a89ee39cbf.png"},3879:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/route-3b4a73e7f5ff23b514ce23d3b24c8ef4.png"},5220:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/static-route-b8f973431bc9269f3dc768f1ba228aa6.png"},7473:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/subnet-variables-3409bfcfb3243961c9a2d10feb23be55.png"},7097:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/subnet-e88cfebbf6200b9072160719228b8853.png"},734:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/successful-vpc-d345b554dbd7ab3f5e36939a684f13c3.png"},9122:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/tunnel-vm-audit-12f4742289ad875ffe9598c8aed6c0da.png"},5130:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/tunnel-vm-connected-0b92487e377d429e012b6092e62d6456.png"},6031:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/tunnel-vm-created-0809111c1b2b6be7243e8be7213ae98c.png"},1638:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/tunnel-vm-launch-37a5e64eb66edd967281e7cc13648312.png"},5463:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/tunnel-vm-variables-9c6c7088323e67d0ddbff528861ceab5.png"},2504:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/tunnel-vm-c12622d7f795707bbaa3c9157abc5dbe.png"},347:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/variables-cc67dc17faacfbef33aaea5cbc0275d1.png"},4346:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/vpc-audit-log-807cb5513e3a69d02e03778176e3c4a5.png"},9339:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/vpc-detail-b65496cdac60ea816345e54620e0f0f3.png"},7673:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/vpc-overview-cf5d3284e273097b1d8828257ceccb95.png"},7801:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/vpc-service-detail-4f8825d5dfb6990799871e280e4e5a41.png"},2431:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/vpc-subnet-343c26c53beb287738f1c6ee4a4d24c7.png"},6801:(n,e,s)=>{s.d(e,{A:()=>r});const r="data:image/png;base64,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"},4331:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/vpc_service_name-f019198f202f590d8ea8a41a6dc019af.png"},8453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>a});var r=s(6540);const i={},t=r.createContext(i);function l(n){const e=r.useContext(t);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);